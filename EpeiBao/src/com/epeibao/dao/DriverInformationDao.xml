<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.epeibao.dao.DriverInformationDao">
			
	<select id="driverIdFindByBusNumer" resultType="com.epeibao.po.DriverInformation"
		parameterType="String">
		select
		DriverID,IdentityCardNumber,DriverName,Sex,CardReaderID,CompanyID,BusNumber,PhoneNumber,
		EmergencyCall,HomeAddress,DriverPhoto from DriverInformation
		where
		DriverID=#{driverId,jdbcType=VARCHAR}
	</select>
	
	<select id="findByNameOrBusNum" resultType="com.epeibao.po.DriverInformation" 
	parameterType="com.epeibao.po.DriverInformation">
		select
		DriverID,IdentityCardNumber,DriverName,Sex,CardReaderID,CompanyID,BusNumber,PhoneNumber,
		EmergencyCall,HomeAddress,DriverPhoto from DriverInformation
		where 1=1 
		<choose>
		   <when test="driverName != null and driverName != ''">
		      and DriverName like CONCAT('%',#{driverName},'%')
		   </when>
		   <when test="busNumber != null and busNumber != ''">
		    and BusNumber like CONCAT('%',#{busNumber},'%')
		   </when>
		</choose>
	</select>
	
	<select id="findByNameOrBusNum1" resultType="com.epeibao.po.DriverInformation" >
		select
		DriverID,IdentityCardNumber,DriverName,Sex,CardReaderID,CompanyID,BusNumber,PhoneNumber,
		EmergencyCall,HomeAddress,DriverPhoto from DriverInformation
		where 1=1 
		<choose>
		   <when test="name != null and name != ''">
		      and DriverName like CONCAT('%',#{name},'%')
		   </when>
		   <when test="busnum != null and busnum != ''">
		    and BusNumber like CONCAT('%',#{busnum},'%')
		   </when>
		</choose>
	</select>
</mapper>
